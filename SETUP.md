# FFmpegSwiftUI 设置指南

## 项目状态

✅ **已完成的功能：**
- 基础UI框架（三个标签页）
- 添加任务页面（简单/高级模式切换）
- 任务列表页面（过滤器、任务管理）
- FFmpeg任务管理器
- 文件选择器集成
- 任务状态管理（等待中、转码中、已完成、失败）

🔄 **开发中的功能：**
- 编码选项详细配置
- 任务预设功能
- 进度监控优化

## 快速开始

### 1. 设置FFmpeg

**方法1：使用项目内置的FFmpeg（推荐）**
1. 下载FFmpeg可执行文件（适用于macOS）
2. 将ffmpeg文件放入 `FFmpegSwiftUI/bin/` 目录
3. 在Xcode中右键点击项目，选择"Add Files to FFmpegSwiftUI"
4. 选择ffmpeg文件，确保"Add to target"中选中了FFmpegSwiftUI

**方法2：使用系统安装的FFmpeg**
- 如果系统中已安装FFmpeg，应用会自动检测并使用系统版本

### 2. 运行项目

1. 在Xcode中打开 `FFmpegSwiftUI.xcodeproj`
2. 选择目标设备为"My Mac"
3. 点击运行按钮（⌘+R）

### 3. 使用说明

**添加任务：**
1. 在"添加任务"标签页中填写任务信息
2. 选择输入文件和输出位置
3. 选择编码器（H.264、H.265、VP9）
4. 在高级模式下可以添加滤镜参数
5. 点击"添加任务"按钮

**管理任务：**
1. 在"任务列表"标签页中查看所有任务
2. 使用过滤器按进度状态筛选任务
3. 点击"开始任务"启动等待中的任务
4. 使用"清除已完成"按钮清理已完成的任务

## 项目结构

```
FFmpegSwiftUI/
├── ContentView.swift          # 主标签页界面
├── AddTaskView.swift          # 添加任务页面
├── TaskPresetsView.swift      # 任务预设页面（占位符）
├── TaskListView.swift         # 任务列表页面
├── FFmpegTaskManager.swift    # FFmpeg任务管理器
└── bin/                       # FFmpeg可执行文件目录
```

## 技术特性

- **SwiftUI**: 现代化的声明式UI框架
- **FFmpeg集成**: 通过Process调用命令行执行转码
- **任务管理**: 异步任务执行和状态监控
- **文件选择**: 集成macOS文件选择器
- **响应式设计**: 实时更新任务状态和进度

## 注意事项

- 确保FFmpeg可执行文件有执行权限
- 应用需要文件访问权限来选择输入和输出文件
- 当前版本支持基本的视频转码功能
- 高级模式下的滤镜参数需要遵循FFmpeg语法

## 下一步开发

1. 完善编码选项配置界面
2. 实现任务预设功能
3. 添加转码进度实时监控
4. 优化错误处理和用户反馈
5. 添加批量任务处理功能
